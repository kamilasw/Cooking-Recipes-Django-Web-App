
<section class="panel">
    <h2 class="section-title">Ingredients</h2>
    <p id="ing-msg" class="empty-note"></p>


    <ul id="ingredients-list" class="bullets">

    {% for ri in ingredients %}
        <li data-ri-id="{{ ri.id }}">{{ ri.amount }} {{ ri.unit }} {{ ri.ingredient.name }}</li>

    {% empty %}
        <li class="empty-note">No ingredients yet.</li>

    {% endfor %}

    </ul>

</section>


<section class="panel">
    <h2 class="section-title">Add ingredient</h2>


    <form class="recipe-form" id="add-ing-form"
    data-url="{% url 'api_add_ingredient_to_recipe' recipe.pk %}">

        <div class="filters">
            <div class="form-row form-row-wide">

                <label class="form-label" for="ingredient">Ingredient</label>

                <select class="form-select" id="ingredient" name="ingredient" required>
                    <option value="">Choose</option>
                    {% for ing in all_ingredients %}
                        <option value="{{ ing.id }}">{{ ing.name }}</option>
                    {% endfor %}
                </select>

            </div>


            <div class="form-row">
                <label class="form-label" for="amount">Amount</label>
                <input
                    class="form-input"
                    id="amount"
                    name="amount"
                    type="number"
                    step="0.01"
                    min="0.01"
                    placeholder="e.g. 25"
                    required>
            </div>


            <div class="form-row">
                <label class="form-label" for="unit">Unit</label>

                <select class="form-select" id="unit" name="unit" required>
                    {% for value,label in unit_choices %}
                        <option value="{{ value }}">{{ label }}</option>
                    {% endfor %}
                </select>

            </div>
        </div>


        <div class="form-actions">
            <button type="button" class="button button-main">Add</button>
        </div>

    </form>

</section>


<section class="panel">
    <h2 class="section-title">Create ingredient</h2>


    <form class="recipe-form" id="create-ing-form"
    data-url="{% url 'api_create_ingredient' %}">
        <div class="filters">
            <div class="form-row form-row-wide">
                <label class="form-label" for="new-ingredient-name">Ingredient name</label>
                <input class="form-input"
                       id="new-ingredient-name"
                       name="name"
                       type="text"
                       minlength="3"
                       placeholder="e.g. potato"
                       required>
            </div>
        </div>


        <div class="form-actions">
            <button type="button" class="button button-main">Create</button>
        </div>

    </form>

</section>