{% extends "base.html" %}

{% block title %}Public Recipes{% endblock %}

{% block content %}
    <section class="page-header">

    <h1 class="page-title">Public recipes</h1>
    <p class="page-subtitle">Search and filter recipes shared by all users.</p>

    </section>

    <section class="panel">

    <form method="get" class="filters" novalidate>
        <div class="form-row">

            <label class="form-label" for="q">Search for title</label>
            <input
                class="form-input"
                id="q"
                type="text"
                name="q"
                value="{{ q }}"
                minlength="2"
                placeholder="min 2 characters">

            <div class="form-hint">Tip: type at least 2 characters.</div>

        </div>

        <div class="form-row">

            <label class="form-label" for="max_time">Max time (minutes)</label>
            <input
                class="form-input"
                id="max_time"
                type="number"
                name="max_time"
                value="{{ max_time }}"
                min="1"
                placeholder="e.g. 35">

        </div>

        <div class="form-row form-row-wide">

            <label class="form-label" for="ingredient">Ingredients in the recipe</label>
            <select class="form-select" id="ingredient" name="ingredient" multiple size="6">
                {% for ing in ingredients %}
                    <option value="{{ ing.id }}"
                            {% if ing.id|stringformat:"s" in ingredient_ids %}selected{% endif %}>
                        {{ ing.name|capfirst }}
                    </option>
                {% endfor %}
            </select>

            <div class="form-hint">Hold Ctrl / Cmd to pick multiple.</div>

        </div>

        <div class="form-actions form-row-wide">

            <button type="submit" class="button button-main">Apply</button>
            <a class="button button-quiet" href="{% url 'public_recipe_list' %}">Cancel</a>

        </div>
    </form>
    </section>

    <section class="panel">

    <ul class="recipe-list">
        {% for recipe in recipes %}

            <li class="recipe-line">
                <a class="recipe-link" href="{% url 'public_recipe_detail' recipe.pk %}">
                    {{ recipe.name }}
                </a>
            </li>

        {% empty %}

            <li class="empty-note">No public recipes yet.</li>

        {% endfor %}
    </ul>

    </section>


{% endblock %}