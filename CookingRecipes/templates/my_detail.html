{% extends "base.html" %}

{% block title %}{{ recipe.name }}{% endblock %}

{% block content %}
    <section class="page-header page-header-split">
        <div>
            <h1 class="page-title">{{ recipe.name }}</h1>

            <div class="info-line">

                <span class="info-item"><strong>Time:</strong> {{ recipe.prep_time }} min</span>

                <span class="info-item">

                    <strong>Visibility:</strong>

                    <span class="visibility-tag">
                        {% if recipe.is_public %}Public{% else %}Private{% endif %}
                    </span>

                </span>

            </div>

        </div>

        <a class="button button-main" href="{% url 'my_recipe_edit' recipe.pk %}">Edit recipe</a>

    </section>

    <section class="panel">

        {% if recipe.description %}
            <div class="text-block">{{ recipe.description }}</div>
        {% endif %}

        {% if ingredients %}

            <h2 class="section-title">Ingredients</h2>

            <ul class="bullets">

                {% for ri in ingredients %}
                    <li>{{ ri.amount }} {{ ri.unit }} {{ ri.ingredient.name|capfirst }}</li>
                {% endfor %}

            </ul>

        {% endif %}

        <h2 class="section-title">Instructions</h2>
        <div class="text-block">{{ recipe.instructions|linebreaks }}</div>

        {% if recipe.image %}

            <div class="photo-block">
                <img class="recipe-photo" src="{{ recipe.image.url }}" alt="{{ recipe.name }}">
            </div>

        {% endif %}

    </section>
{% endblock %}